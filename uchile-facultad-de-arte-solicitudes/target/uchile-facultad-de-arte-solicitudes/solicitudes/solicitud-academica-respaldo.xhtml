<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>Facultad de Artes Universidad de Chile</title>
	<h:outputScript library="js" name="calendar_es.js" />
	<h:outputScript library="js" name="validar_es.js" />
	
		<script type="text/javascript">
                    $(document).ready(function() {
                        inicializarDatosSeguridad();
                    });
             </script>
 </h:head>

<h:body>
	<h:outputStylesheet library="css" name="estilos.css" />
	
	
	<div id="msg" />	
	<div
	 class="banner">
		<img src='http://s22.postimg.org/xkg3u0li9/banner_1.jpg' border='0'
			alt="banner 1" />
	</div>

	<div class="main-container">

		<h:form id="formSolicitudAcademica">
			<p:remoteCommand name="inicializarDatosSeguridad" actionListener="#{solicitudAcademicaBean.llamarRemoteCommandSeguridad()}" global="false" update="@form" />
			<!-- Inicio Panel Principal -->
			<p:panel id="panel" header="Solicitud Académica">

				<div class="texto-intro">Bienvenido al sistema de Solicitudes Académicas en Línea de la Escuela de Postgrado de la Facultad de Artes de la Universidad de Chile </div>
				
<!-- 				<div class="subtitulos">Antecedentes Personales</div> -->
				<p:messages id="mensajeSolicitudAcademica" showDetail="true" autoUpdate="true" closable="false" />
				
				<p:wizard
					flowListener="#{solicitudPostulacionBean.validarFlujoProceso}"
					backLabel="Atras" nextLabel="Siguiente">
					<p:tab id="programa" title="Antecedentes Personales">
						<p:panelGrid id="pgInicio">
					<p:row>
						<p:column></p:column>
						<p:column styleClass="label">
							<p:outputLabel value="Nombre"></p:outputLabel>
						</p:column>
						<p:column styleClass="label">
							<p:outputLabel value="Apellido Paterno"></p:outputLabel>
						</p:column>
						<p:column styleClass="label">
							<p:outputLabel value="Apellido Materno"></p:outputLabel>
						</p:column>
					</p:row>
					<p:row>
						<p:column styleClass="titulos">
							<p:outputLabel value="Nombre Completo"></p:outputLabel>
						</p:column>
						<p:column>
							<p:inputText id="inp1"
								value="#{solicitudAcademicaBean.solicitudAcademicaDTO.nombrePersonaSolicitudAcademica}">
								<p:ajax
									update=":formSolicitudAcademica:inp2 :formSolicitudAcademica:mensajeSolicitudAcademica"
									listener="#{solicitudAcademicaBean.validarNombreSolicitudAcademica}" />
							</p:inputText>
						</p:column>
						<p:column>
							<p:inputText id="inp2"
								value="#{solicitudAcademicaBean.solicitudAcademicaDTO.apellidoPaternoPersonaSolicitudAcademica}">
								<p:ajax
									update=":formSolicitudAcademica:inp2 :formSolicitudAcademica:mensajeSolicitudAcademica"
									listener="#{solicitudAcademicaBean.validarApellidoPaternoPersonaSolicitudAcademica}" />
							</p:inputText>
						</p:column>
						<p:column>
							<p:inputText id="inp3"
								value="#{solicitudAcademicaBean.solicitudAcademicaDTO.apellidoMaternoPersonaSolicitudAcademica}">
								<p:ajax
									update=":formSolicitudAcademica:inp3 :formSolicitudAcademica:mensajeSolicitudAcademica"
									listener="#{solicitudAcademicaBean.validarApellidoMaternoPersonaSolicitudAcademica}" />
							</p:inputText>
						</p:column>
					</p:row>
					<p:row>
						<p:column styleClass="titulos">
							<p:outputLabel value="RUT"></p:outputLabel>
						</p:column>
						<p:column>
							<p:inputText id="inp4"
								value="#{solicitudAcademicaBean.solicitudAcademicaDTO.rutPersonaSolicitudAcademica}">
								<p:ajax
									update=":formSolicitudAcademica:inp4 :formSolicitudAcademica:mensajeSolicitudAcademica"
									listener="#{solicitudAcademicaBean.validarRutPersonaSolicitudAcademica}" />
							</p:inputText>
						</p:column>
					</p:row>
					<p:row>
						<p:column styleClass="titulos">
							<p:outputLabel value="Programa"></p:outputLabel>
						</p:column>
						<p:column styleClass="titulos" colspan="3">
							<p:selectOneMenu id="selPrograma"
								value="#{solicitudAcademicaBean.selPrograma}">
								<f:selectItem itemLabel="Seleccione Programa" itemValue="" />
								<f:selectItems
									value="#{solicitudAcademicaBean.listaProgramaUniversidadDTO}"
									var="programa"
									itemLabel="#{programa.nombreProgramaUniversidad}"
									itemValue="#{programa.idProgramaUniversidad}">
								</f:selectItems>
								<p:ajax
									update=":formSolicitudAcademica:selPrograma :formSolicitudAcademica:mensajeSolicitudAcademica"
									listener="#{solicitudAcademicaBean.validarProgramaUniversidadSolicitudAcademica}" />
							</p:selectOneMenu>
						</p:column>
					</p:row>
					<p:row>
						<p:column styleClass="titulos">
							<p:outputLabel value="Correo electrónico"></p:outputLabel>
						</p:column>
						<p:column>
							<p:inputText id="inp5"
								value="#{solicitudAcademicaBean.solicitudAcademicaDTO.mailMember}">
								<p:ajax
									update=":formSolicitudAcademica:inp5 :formSolicitudAcademica:mensajeSolicitudAcademica"
									listener="#{solicitudAcademicaBean.validarEmailPersonaSolicitudAcademica}" />
							</p:inputText>
						</p:column>
					</p:row>
					<p:row>
						<p:column styleClass="titulos">
							<p:outputLabel value="Año de Ingreso"></p:outputLabel>
						</p:column>
						<p:column>
							<p:inputText id="inp6"
								value="#{solicitudAcademicaBean.solicitudAcademicaDTO.anhoIngreso}">
								<p:ajax
									update=":formSolicitudAcademica:inp6 :formSolicitudAcademica:mensajeSolicitudAcademica"
									listener="#{solicitudAcademicaBean.validarAnhoEgresoPersonaSolicitudAcademica}" />
							</p:inputText>
						</p:column>
					</p:row>
					<p:row>
						<p:column colspan="4">
							<p:outputLabel value="Solicitud"></p:outputLabel>
						</p:column>
					</p:row>
					<p:row>
						<p:column styleClass="titulos">
							<p:outputLabel value="Tipo de Solicitud"></p:outputLabel>
						</p:column>
						<p:column colspan="3">
							<p:selectOneRadio id="radTipoSolicitud"
								value="#{solicitudAcademicaBean.solicitudAcademicaDTO.idTipoSolicitud}"
								layout="grid" columns="1">
								<f:selectItems
									value="#{solicitudAcademicaBean.listaTipoSolicitudDTO}"
									styleClass="label" var="tipoSolicitud"
									itemLabel="#{tipoSolicitud.nombreTipoSolicitud}"
									itemValue="#{tipoSolicitud.idTipoSolicitud}" />
								<p:ajax
									update=":formSolicitudAcademica:radTipoSolicitud :formSolicitudAcademica:mensajeSolicitudAcademica"
									listener="#{solicitudAcademicaBean.validarTipoSolicitudAcademica}" />
							</p:selectOneRadio>
						</p:column>
					</p:row>
					<p:row>
						<p:column styleClass="titulos" colspan="1">
							<p:outputLabel value="Fundamente su Solicitud"></p:outputLabel>
						</p:column>
						<p:column>
							<p:inputTextarea id="inp7" styleClass="fundamente-solicitud" maxlength="500"
								value="#{solicitudAcademicaBean.solicitudAcademicaDTO.fundamentacionSolicitud}">
								<p:ajax
									update=":formSolicitudAcademica:inp7 :formSolicitudAcademica:mensajeSolicitudAcademica"
									listener="#{solicitudAcademicaBean.validarFundamenteSolicitudAcademica}" />
							</p:inputTextarea>
						</p:column>
					</p:row>
					<p:row>
						<p:column colspan="4">
							<p:outputLabel style="font-size:12px !important;" value="También es posible incorporar documentos con el botón &ldquo;ADJUNTAR ARCHIVO&rdquo; que respalden la justificación de su solicitud, por ejemplo: 
							certificados médicos, certificados de trabajo, cartas de apoyo, etc."></p:outputLabel>
							<div class="texto-saludate">Los documentos de la solicitud academica deben estar adjuntos dentro de una carpeta comprimida como un archivo rar o zip (15Mb)</div>
						</p:column>
					</p:row>
					<p:row>
						<p:column colspan="4">
						<p:fileUpload fileUploadListener="#{solicitudAcademicaBean.handleFileUpload}" mode="advanced" label="Adjuntar Archivo" fileLimit="1" dragDropSupport="true" oncomplete="javascript:window.location='#msg'"
                    		 	update=":formSolicitudAcademica:pgInicio :formSolicitudAcademica:mensajeSolicitudAcademica" auto="true" sizeLimit="20000000" allowTypes="/(\.|\/)(rar|zip)$/" />
							</p:column>
					</p:row>
					<p:row>
						<p:column colspan="1">
							<p:commandButton id="btn1" value="Guardar"
								actionListener="#{solicitudAcademicaBean.almacenarSolicitudAcademica}"
								update=":formSolicitudAcademica:pgInicio :formSolicitudAcademica:mensajeSolicitudAcademica" 
								onclick="javascript:window.location='#msg'" />
						</p:column>
						<p:column colspan="1">
							<p:commandButton id="btnLimpiar" value="Limpiar"
								action="#{solicitudAcademicaBean.limpiarFormularioSolicitudAcademica}"
								update=":formSolicitudAcademica:pgInicio :formSolicitudAcademica:mensajeSolicitudAcademica" 
								onclick="javascript:window.location='#msg'"
								/>
						</p:column>
						<p:column></p:column>
					</p:row>

				</p:panelGrid>
						<div class="texto-saludate" /><div class="texto-saludate" /><div class="texto-saludate" /><div class="texto-saludate" /><div class="texto-saludate" />
						<div class="texto-saludate" /><div class="texto-saludate" /><div class="texto-saludate" />
					</p:tab>
				</p:wizard>
				
				
				<div class="texto-saludate" /><div class="texto-saludate" /><div class="texto-saludate" /><div class="texto-saludate" /><div class="texto-saludate" /> 
				<div class="texto-subintro">La respuesta oficial será enviada a su correo electrónico</div>
				<div class="texto-subintro">Para cualquier consulta, por favor dirigirse a la Secretaría de Postgrado del Programa.</div>
				<div class="texto-saludate">Saluda atentamente,</div>
				<div class="texto-saludate">Escuela de Postgrado</div>
				<div class="texto-saludate">Facultad de Artes</div>
				<div class="texto-saludate">Universidad de Chile</div>
			</p:panel>
		</h:form>
	</div>
</h:body>
</html>